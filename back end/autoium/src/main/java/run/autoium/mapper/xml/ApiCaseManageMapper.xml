<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="run.autoium.mapper.ApiCaseManageMapper">

    <resultMap id="apiCaseManageMap" type="run.autoium.entity.po.ApiCaseManage">
        <id column="id" property="id"/>
        <result column="name" property="name"/>
        <result column="pid" property="projectId"/>
        <result column="p_name" property="projectName"/>
        <result column="sid" property="apiCaseSuiteId"/>
        <result column="s_name" property="apiCaseSuiteName"/>
        <result column="description" property="description"/>
        <result column="gmt_create" property="gmtCreate"/>
        <result column="gmt_modified" property="gmtModified"/>
        <result column="status" property="status"/>
    </resultMap>

    <select id="getApiCasePageCondition" resultMap="apiCaseManageMap">
        select a.id id , a.name name , a.project_id pid , p.name p_name , a.api_case_suite_id sid , s.name s_name , a.description , a.gmt_create , a.gmt_modified
        from api_case a , project p , api_case_suite s
        where a.project_id = p.id and a.api_case_suite_id = s.id
        <if test="ew.sqlSegment != null and ew.sqlSegment != '' ">
            and ${ew.sqlSegment}
        </if>
    </select>

    <select id="getById" resultMap="apiCaseManageMap">
        select a.id id , a.name name , a.project_id pid , p.name p_name , a.api_case_suite_id sid , s.name s_name , a.description , a.gmt_create , a.gmt_modified
        from api_case a , project p , api_case_suite s
        where a.project_id = p.id and a.api_case_suite_id = s.id and a.id = #{apiId}
    </select>

    <select id="getAll" resultMap="apiCaseManageMap">
        select a.id id , a.name name , a.project_id pid , p.name p_name , a.api_case_suite_id sid , s.name s_name , a.description , a.gmt_create , a.gmt_modified
        from api_case a , project p , api_case_suite s
        where a.project_id = p.id and a.api_case_suite_id = s.id;
    </select>

</mapper>
